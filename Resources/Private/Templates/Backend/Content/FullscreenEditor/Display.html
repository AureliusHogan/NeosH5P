{namespace neos=Neos\Neos\ViewHelpers}
<script type="text/javascript">
    function contentPicked(contentId) {
        if (window.parent !== window && window.parent.NeosH5PBrowserCallbacks && window.parent.NeosH5PBrowserCallbacks.contentPicked) {
            window.parent.NeosH5PBrowserCallbacks.contentPicked(contentId);
        }
    }

    function contentEdit(contentId) {
        if (window.parent !== window && window.parent.NeosH5PBrowserCallbacks && window.parent.NeosH5PBrowserCallbacks.contentEdit) {
            window.parent.NeosH5PBrowserCallbacks.contentEdit(contentId);
        }
    }

    function contentDelete(contentId) {
        if (window.parent !== window && window.parent.NeosH5PBrowserCallbacks && window.parent.NeosH5PBrowserCallbacks.contentDelete) {
            window.parent.NeosH5PBrowserCallbacks.contentDelete(contentId);
        }
    }
</script>

<html>
<head>
    <link rel="stylesheet" type="text/css"
          href="{f:uri.resource(path: 'Styles/Includes-built.css', package: 'Neos.Neos')}?bust={neos:backend.cssBuiltVersion()}"/>
</head>
<body class="neos">
<div class="neos-row-fluid">

    <f:for each="{styles}" as="style">
        <link rel="stylesheet" href="{style -> f:format.raw()}"/>
    </f:for>
    <script>
        window.H5PIntegration = {settings -> f:format.raw()};
    </script>
    <f:for each="{scripts}" as="script">
        <script src="{script -> f:format.raw()}"></script>
    </f:for>

    <legend>{content.title}</legend>
    <div class="h5p-content-wrapper" style="background: #fff; padding: 20px 10px;">
        <f:switch expression="{content.embedType}">
            <f:case value="div">
                <div class="h5p-content" data-content-id="{content.contentId}"></div>
            </f:case>
            <f:case value="iframe">
                <div class="h5p-iframe-wrapper">
                    <iframe id="h5p-iframe-{content.contentId}"
                            class="h5p-iframe"
                            data-content-id="{content.contentId}"
                            style="height:1px"
                            src="about:blank"
                            frameBorder="0"
                            scrolling="no">
                    </iframe>
                </div>
            </f:case>
        </f:switch>
    </div>
</div>
<button class="neos-button neos-button-primary" onclick="contentPicked({content.contentId})">Choose</button>
<button class="neos-button neos-button-primary" onclick="contentEdit({content.contentId})">Edit</button>
<button class="neos-button neos-button-danger" onclick="contentDelete({content.contentId})">Delete</button>
</body>
</html>
